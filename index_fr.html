<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Optimisation SEO -->
    <title>Convertisseur de Format d'Image Gratuit en Ligne - Conversion de Format d'Image, Ajout de Filigrane,
        Traitement par Lot</title>
    <meta name="description"
        content="Outil de traitement d'image en ligne gratuit, prend en charge la conversion de format JPEG, PNG, WEBP, BMP, filigrane de texte par lot, filigrane d'image, rotation et retournement d'image. Aucune installation de logiciel requise, utilisation directe dans le navigateur, prend en charge le fonctionnement hors ligne.">
    <meta name="keywords"
        content="conversion de format d'image,traitement d'image en ligne,traitement d'image par lot,ajouter filigrane,compression d'image,JPEG vers PNG,conversion WEBP,outil d'image gratuit">
    <meta name="author" content="Outil de Traitement d'Image">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://yoursite.com/fr/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yoursite.com/fr/">
    <meta property="og:title"
        content="Convertisseur de Format d'Image Gratuit en Ligne - Conversion de Format d'Image, Ajout de Filigrane">
    <meta property="og:description"
        content="Outil de traitement d'image en ligne gratuit, prend en charge plusieurs conversions de format et traitement par lot, aucune installation de logiciel requise.">
    <meta property="og:image" content="https://yoursite.com/assets/icons/icon-512x512.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">
    <meta property="og:locale" content="fr_FR">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://yoursite.com/fr/">
    <meta property="twitter:title"
        content="Convertisseur de Format d'Image Gratuit en Ligne - Conversion de Format d'Image, Ajout de Filigrane">
    <meta property="twitter:description"
        content="Outil de traitement d'image en ligne gratuit, prend en charge plusieurs conversions de format et traitement par lot, aucune installation de logiciel requise.">
    <meta property="twitter:image" content="https://yoursite.com/assets/icons/icon-512x512.png">

    <!-- Support PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#007bff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Outil de Traitement d'Image">
    <link rel="apple-touch-icon" href="assets/icons/icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/icons/icon-16x16.png">

    <!-- Feuilles de style -->
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/responsive.css">
</head>

<body>
    <!-- Barre de navigation -->
    <header class="header">
        <div class="container">
            <h1 class="logo">Convertisseur de Format d'Image Gratuit en Ligne</h1>
            <div class="header-info">
                <div class="language-switcher">
                    <a href="index.html" class="lang-link">‰∏≠Êñá</a>
                    <span class="lang-separator">|</span>
                    <a href="index_en.html" class="lang-link">English</a>
                    <span class="lang-separator">|</span>
                    <a href="index_de.html" class="lang-link">Deutsch</a>
                    <span class="lang-separator">|</span>
                    <span class="lang-current">Fran√ßais</span>
                    <span class="lang-separator">|</span>
                    <a href="index_ja.html" class="lang-link">Êó•Êú¨Ë™û</a>
                    <span class="lang-separator">|</span>
                    <a href="index_ko.html" class="lang-link">ÌïúÍµ≠Ïñ¥</a>
                    <span class="lang-separator">|</span>
                    <a href="index_ar.html" class="lang-link">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a>
                </div>
                <span id="imageCount">0 images</span>
            </div>
        </div>
    </header>
    <div class="container">
        <div class="header-description">
            Cet outil int√®gre la conversion de format d'image, le traitement par lot, l'ajout de filigrane en ligne et
            d'autres fonctions pratiques. Aucune installation de logiciel n√©cessaire, utilisation directe dans le
            navigateur, rend le traitement d'image simple et rapide. Que vous soyez designer, photographe ou utilisateur
            ordinaire, vous pouvez trouver ici des outils r√©pondant √† vos besoins.
        </div>
    </div>

    <main class="main">
        <div class="container">
            <!-- Zone de t√©l√©chargement -->
            <section class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-content">
                        <h3>Glissez les images ici ou cliquez pour s√©lectionner</h3>
                        <p>Prend en charge les formats JPG, PNG, GIF, WEBP, BMP</p>
                        <button class="btn btn-primary" id="selectFilesBtn">S√©lectionner les images</button>
                    </div>
                    <input type="file" id="fileInput" multiple accept="image/*" style="display: none;">
                </div>
            </section>

            <!-- Barre d'outils -->
            <section class="toolbar" id="toolbar" style="display: none;">
                <div class="toolbar-left">
                    <button class="btn btn-secondary" id="selectAllBtn">Tout s√©lectionner</button>
                    <button class="btn btn-danger" id="deleteBtn">Supprimer</button>
                    <span class="separator">|</span>
                    <button class="btn btn-secondary" id="rotateLeftBtn">‚Ü∂ Rotation gauche</button>
                    <button class="btn btn-secondary" id="rotateRightBtn">‚Ü∑ Rotation droite</button>
                    <button class="btn btn-secondary" id="flipHBtn">‚áÑ Retournement horizontal</button>
                    <button class="btn btn-secondary" id="flipVBtn">‚áÖ Retournement vertical</button>
                    <button class="btn btn-secondary" id="resetBtn">‚Ü∫ R√©initialiser</button>
                </div>
                <div class="toolbar-right">
                    <button class="btn btn-success" id="downloadBtn">üì• Enregistrer et t√©l√©charger</button>
                </div>
            </section>

            <!-- Zone de contenu principal -->
            <section class="content-area">
                <!-- Grille d'images -->
                <div class="images-container">
                    <div class="images-grid" id="imagesGrid">
                        <!-- √âl√©ments d'image g√©n√©r√©s dynamiquement -->
                    </div>
                </div>

                <!-- Panneau d'op√©ration lat√©ral -->
                <aside class="side-panel" id="sidePanel">
                    <div class="panel-header">
                        <h3>Panneau de contr√¥le</h3>
                        <span class="selected-count" id="selectedCount">Aucune image s√©lectionn√©e</span>
                    </div>

                    <!-- Conversion de format -->
                    <div class="panel-section">
                        <h4>üîÑ Conversion de format</h4>
                        <div class="format-controls">
                            <label>Format cible :</label>
                            <select id="targetFormat">
                                <option value="jpeg">JPEG</option>
                                <option value="png">PNG</option>
                                <option value="webp">WEBP</option>
                                <option value="bmp">BMP</option>
                            </select>

                            <div class="quality-control" id="qualityControl">
                                <label>Qualit√© : <span id="qualityValue">90</span>%</label>
                                <input type="range" id="qualitySlider" min="10" max="100" value="90">
                            </div>

                            <button class="btn btn-primary btn-full" id="convertBtn">Convertir le format</button>
                        </div>
                    </div>

                    <!-- Param√®tres de filigrane -->
                    <div class="panel-section">
                        <h4>üè∑Ô∏è Param√®tres de filigrane</h4>
                        <div class="watermark-controls">
                            <div class="watermark-type">
                                <label>
                                    <input type="radio" name="watermarkType" value="text" checked> Filigrane de texte
                                </label>
                                <label>
                                    <input type="radio" name="watermarkType" value="image"> Filigrane d'image
                                </label>
                            </div>

                            <!-- Param√®tres de filigrane de texte -->
                            <div class="text-watermark" id="textWatermark">
                                <input type="text" id="watermarkText" placeholder="Entrez le texte du filigrane"
                                    value="Exemple de filigrane">

                                <div class="watermark-style">
                                    <label>Taille de police :</label>
                                    <input type="range" id="fontSize" min="12" max="72" value="24">
                                    <span id="fontSizeValue">24px</span>
                                </div>

                                <div class="watermark-style">
                                    <label>Couleur :</label>
                                    <input type="color" id="fontColor" value="#ff8200">
                                </div>

                                <div class="watermark-style">
                                    <label>Opacit√© :</label>
                                    <input type="range" id="watermarkOpacity" min="0" max="100" value="80">
                                    <span id="opacityValue">80%</span>
                                </div>
                            </div>

                            <!-- Param√®tres de filigrane d'image -->
                            <div class="image-watermark" id="imageWatermark" style="display: none;">
                                <input type="file" id="watermarkImageInput" accept="image/*">
                                <div class="watermark-style">
                                    <label>Opacit√© :</label>
                                    <input type="range" id="watermarkImageOpacity" min="0" max="100" value="80">
                                    <span id="imageOpacityValue">80%</span>
                                </div>
                            </div>

                            <!-- S√©lection de position -->
                            <div class="position-grid">
                                <label>Position :</label>
                                <div class="position-selector">
                                    <button class="position-btn" data-position="top-left">‚Üñ</button>
                                    <button class="position-btn" data-position="top-center">‚Üë</button>
                                    <button class="position-btn" data-position="top-right">‚Üó</button>
                                    <button class="position-btn" data-position="middle-left">‚Üê</button>
                                    <button class="position-btn active" data-position="center">‚óè</button>
                                    <button class="position-btn" data-position="middle-right">‚Üí</button>
                                    <button class="position-btn" data-position="bottom-left">‚Üô</button>
                                    <button class="position-btn" data-position="bottom-center">‚Üì</button>
                                    <button class="position-btn" data-position="bottom-right">‚Üò</button>
                                </div>
                            </div>

                            <button class="btn btn-primary btn-full" id="applyWatermarkBtn">Appliquer le
                                filigrane</button>
                        </div>
                    </div>
                </aside>
            </section>
        </div>
    </main>

    <!-- Guide des connaissances sur les formats d'image -->
    <section class="format-guide">
        <div class="container">
            <h2>üìö Guide des connaissances sur les formats d'image</h2>
            <p class="guide-intro">Comprenez les caract√©ristiques des diff√©rents formats d'image et choisissez le format
                qui convient le mieux √† vos besoins</p>

            <div class="format-grid">
                <div class="format-card">
                    <div class="format-header">
                        <h3>JPEG</h3>
                        <span class="format-badge jpeg">Compression avec perte</span>
                    </div>
                    <div class="format-content">
                        <p class="format-description">Format d'image le plus couramment utilis√©, adapt√© aux photos et
                            images complexes</p>
                        <ul class="format-features">
                            <li>‚úÖ Petite taille de fichier, haute efficacit√© de compression</li>
                            <li>‚úÖ Prend en charge des millions de couleurs</li>
                            <li>‚úÖ Excellente compatibilit√©, pris en charge par tous les appareils</li>
                            <li>‚ùå Pas de support d'arri√®re-plan transparent</li>
                            <li>‚ùå Compression avec perte, la qualit√© se d√©grade avec plusieurs √©ditions</li>
                        </ul>
                        <div class="format-use-case">
                            <strong>Cas d'utilisation :</strong> Partage de photos, images web, r√©seaux sociaux
                        </div>
                    </div>
                </div>

                <div class="format-card">
                    <div class="format-header">
                        <h3>PNG</h3>
                        <span class="format-badge png">Compression sans perte</span>
                    </div>
                    <div class="format-content">
                        <p class="format-description">Format d'image de haute qualit√© avec support d'arri√®re-plan
                            transparent</p>
                        <ul class="format-features">
                            <li>‚úÖ Compression sans perte, maintient la qualit√© originale</li>
                            <li>‚úÖ Prend en charge les effets transparents et semi-transparents</li>
                            <li>‚úÖ Id√©al pour les ic√¥nes, logos et graphiques simples</li>
                            <li>‚ùå Taille de fichier plus importante</li>
                            <li>‚ùå Pas adapt√© aux photos complexes</li>
                        </ul>
                        <div class="format-use-case">
                            <strong>Cas d'utilisation :</strong> Ic√¥nes de site web, conception de logos, images
                            n√©cessitant une transparence
                        </div>
                    </div>
                </div>

                <div class="format-card">
                    <div class="format-header">
                        <h3>WEBP</h3>
                        <span class="format-badge webp">Format moderne</span>
                    </div>
                    <div class="format-content">
                        <p class="format-description">Format d'image moderne d√©velopp√© par Google, √©quilibrant qualit√©
                            et taille</p>
                        <ul class="format-features">
                            <li>‚úÖ 25-35% plus petit que JPEG avec la m√™me qualit√©</li>
                            <li>‚úÖ Prend en charge la compression avec et sans perte</li>
                            <li>‚úÖ Prend en charge la transparence et l'animation</li>
                            <li>‚ùå Pas pris en charge par certains navigateurs plus anciens</li>
                            <li>‚ùå Support limit√© des logiciels d'√©dition</li>
                        </ul>
                        <div class="format-use-case">
                            <strong>Cas d'utilisation :</strong> Sites web modernes, applications mobiles, optimisation
                            web
                        </div>
                    </div>
                </div>

                <div class="format-card">
                    <div class="format-header">
                        <h3>BMP</h3>
                        <span class="format-badge bmp">Non compress√©</span>
                    </div>
                    <div class="format-content">
                        <p class="format-description">Format natif Windows, fichier bitmap non compress√©</p>
                        <ul class="format-features">
                            <li>‚úÖ Qualit√© sans perte, compl√®tement fid√®le</li>
                            <li>‚úÖ Structure simple, bonne compatibilit√©</li>
                            <li>‚úÖ Prend en charge plusieurs profondeurs de couleur</li>
                            <li>‚ùå Taille de fichier extr√™mement importante</li>
                            <li>‚ùå Pas de support d'arri√®re-plan transparent</li>
                        </ul>
                        <div class="format-use-case">
                            <strong>Cas d'utilisation :</strong> Format interm√©diaire de traitement d'image, ic√¥nes
                            syst√®me, usages sp√©ciaux
                        </div>
                    </div>
                </div>

                <div class="format-card">
                    <div class="format-header">
                        <h3>GIF</h3>
                        <span class="format-badge gif">Support d'animation</span>
                    </div>
                    <div class="format-content">
                        <p class="format-description">Format d'image avec support d'animation, pr√©f√©r√© pour les m√®mes
                            web</p>
                        <ul class="format-features">
                            <li>‚úÖ Prend en charge les effets d'animation</li>
                            <li>‚úÖ Prend en charge l'arri√®re-plan transparent</li>
                            <li>‚úÖ Excellente compatibilit√©</li>
                            <li>‚ùå Prend en charge seulement 256 couleurs</li>
                            <li>‚ùå Pas adapt√© aux photos et images complexes</li>
                        </ul>
                        <div class="format-use-case">
                            <strong>Cas d'utilisation :</strong> M√®mes anim√©s, animations simples, d√©corations web
                        </div>
                    </div>
                </div>
            </div>

            <div class="format-comparison">
                <h3>üìä Tableau de comparaison des formats</h3>
                <div class="comparison-table">
                    <table>
                        <thead>
                            <tr>
                                <th>Format</th>
                                <th>Type de compression</th>
                                <th>Transparence</th>
                                <th>Support d'animation</th>
                                <th>Taille de fichier</th>
                                <th>Support navigateur</th>
                                <th>Cas d'utilisation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>JPEG</strong></td>
                                <td>Avec perte</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>Petit</td>
                                <td>100%</td>
                                <td>Photos, images complexes</td>
                            </tr>
                            <tr>
                                <td><strong>PNG</strong></td>
                                <td>Sans perte</td>
                                <td>‚úÖ</td>
                                <td>‚ùå</td>
                                <td>Important</td>
                                <td>100%</td>
                                <td>Ic√¥nes, logos</td>
                            </tr>
                            <tr>
                                <td><strong>WEBP</strong></td>
                                <td>Avec/Sans perte</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>Tr√®s petit</td>
                                <td>95%+</td>
                                <td>Sites web modernes</td>
                            </tr>
                            <tr>
                                <td><strong>BMP</strong></td>
                                <td>Non compress√©</td>
                                <td>‚ùå</td>
                                <td>‚ùå</td>
                                <td>Extr√™mement important</td>
                                <td>100%</td>
                                <td>Usage professionnel</td>
                            </tr>
                            <tr>
                                <td><strong>GIF</strong></td>
                                <td>Sans perte</td>
                                <td>‚úÖ</td>
                                <td>‚úÖ</td>
                                <td>Moyen</td>
                                <td>100%</td>
                                <td>Animations, m√®mes</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="format-tips">
                <h3>üí° Recommandations de s√©lection</h3>
                <div class="tips-grid">
                    <div class="tip-card">
                        <h4>üì± Partage sur les r√©seaux sociaux</h4>
                        <p>Recommand√© d'utiliser le format <strong>JPEG</strong>, petite taille de fichier, chargement
                            rapide, r√©pond aux exigences de la plupart des plateformes</p>
                    </div>
                    <div class="tip-card">
                        <h4>üé® Portfolio de design</h4>
                        <p>Recommand√© d'utiliser le format <strong>PNG</strong>, maintient la meilleure qualit√©, prend
                            en charge l'arri√®re-plan transparent</p>
                    </div>
                    <div class="tip-card">
                        <h4>üåê Optimisation de site web</h4>
                        <p>Recommand√© d'utiliser le format <strong>WEBP</strong>, r√©duit consid√©rablement la taille du
                            fichier tout en garantissant la qualit√©</p>
                    </div>
                    <div class="tip-card">
                        <h4>üòÑ Cr√©er des m√®mes</h4>
                        <p>Recommand√© d'utiliser le format <strong>GIF</strong>, prend en charge les effets d'animation,
                            bonne compatibilit√©</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Modal de pr√©visualisation d'image -->
    <div class="modal" id="previewModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="previewTitle">Aper√ßu de l'image</h3>
                <button class="modal-close" id="closePreview">&times;</button>
            </div>
            <div class="modal-body">
                <img id="previewImage" src="" alt="Image d'aper√ßu">
                <div class="image-info" id="imageInfo">
                    <p><strong>Nom de fichier :</strong> <span id="infoName">-</span></p>
                    <p><strong>Dimensions :</strong> <span id="infoDimensions">-</span></p>
                    <p><strong>Taille :</strong> <span id="infoSize">-</span></p>
                    <p><strong>Format :</strong> <span id="infoFormat">-</span></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Barre de progression -->
    <div class="progress-overlay" id="progressOverlay">
        <div class="progress-modal">
            <h3>Traitement en cours...</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">Traitement de l'image 1/10</p>
        </div>
    </div>

    <!-- Invite d'installation PWA -->
    <div class="install-prompt" id="installPrompt">
        <div class="install-content">
            <div class="install-icon">üì±</div>
            <div class="install-text">
                <h4>Installer comme application</h4>
                <p>Installez l'outil de traitement d'image sur votre appareil pour une exp√©rience d'utilisation hors
                    ligne</p>
            </div>
            <div class="install-actions">
                <button class="btn btn-primary" id="installBtn">Installer</button>
                <button class="btn btn-secondary" id="dismissBtn">Pas maintenant</button>
            </div>
        </div>
    </div>

    <!-- Invite de mise √† jour PWA -->
    <div class="update-prompt" id="updatePrompt">
        <div class="update-content">
            <div class="update-icon">üîÑ</div>
            <div class="update-text">
                <h4>Nouvelle version disponible</h4>
                <p>De nouvelles fonctionnalit√©s sont disponibles, mettre √† jour maintenant ?</p>
            </div>
            <div class="update-actions">
                <button class="btn btn-primary" id="updateBtn">Mettre √† jour</button>
                <button class="btn btn-secondary" id="laterBtn">Plus tard</button>
            </div>
        </div>
    </div>

    <!-- Charger la biblioth√®que JSZip -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>

    <!-- Initialisation PWA et Service Worker -->
    <script>
        // Configuration de texte fran√ßais
        window.TEXT_CONFIG = {
            APP_INITIALIZED: 'Outil de traitement d\'image initialis√©',
            FILE_PROCESSING: 'Traitement du fichier...',
            FILE_PROCESS_FAILED: '√âchec du traitement du fichier',
            FILE_NAME_INVALID: 'Nom de fichier invalide',
            FILE_READ_FAILED: '√âchec de lecture du fichier',
            IMAGE_LOAD_FAILED: '√âchec du chargement de l\'image',
            IMAGE_SIZE_READ_FAILED: 'Impossible de lire les informations de taille d\'image',
            IMAGE_COMPRESS_FAILED: '√âchec de la compression d\'image',
            UNSUPPORTED_IMAGE_TYPE: 'Type de source d\'image non pris en charge',
            CANVAS_NOT_INITIALIZED: 'Canvas non initialis√©',
            FORMAT_CONVERT_FAILED: '√âchec de la conversion de format',
            ROTATING_IMAGE: 'Rotation de l\'image...',
            ROTATE_FAILED: '√âchec de la rotation',
            FLIPPING_IMAGE: 'Retournement de l\'image...',
            FLIP_FAILED: '√âchec du retournement',
            RESETTING_IMAGE: 'R√©initialisation de l\'image...',
            RESET_FAILED: '√âchec de la r√©initialisation',
            CONVERTING_FORMAT: 'Conversion du format...',
            FORMAT_CONVERT_ERROR: '√âchec de la conversion de format',
            SELECT_IMAGES_TO_CONVERT: 'Veuillez d\'abord s√©lectionner les images √† convertir',
            ADDING_WATERMARK: 'Ajout du filigrane...',
            WATERMARK_FAILED: '√âchec de l\'ajout du filigrane',
            WATERMARK_IMAGE_LOADED: 'Image de filigrane charg√©e',
            WATERMARK_IMAGE_LOAD_FAILED: '√âchec du chargement de l\'image de filigrane',
            WATERMARK_IMAGE_PROCESS_FAILED: '√âchec du traitement de l\'image de filigrane',
            SELECT_IMAGES_FOR_WATERMARK: 'Veuillez d\'abord s√©lectionner les images pour le filigrane',
            SET_WATERMARK_CONTENT: 'Veuillez d√©finir le contenu du filigrane',
            PREPARING_DOWNLOAD: 'Pr√©paration du t√©l√©chargement...',
            PACKING_FILES: 'Empaquetage des fichiers...',
            DOWNLOAD_FAILED: '√âchec du t√©l√©chargement',
            JSZIP_NOT_LOADED: 'Biblioth√®que JSZip non charg√©e',
            ZIP_GENERATE_FAILED: '√âchec de la g√©n√©ration du fichier ZIP',
            MODAL_WINDOW: 'Fen√™tre modale',
            DELETE_IMAGE: 'Supprimer l\'image',
            SELECT_ALL: 'Tout s√©lectionner',
            DESELECT_ALL: 'Tout d√©s√©lectionner',
            NO_IMAGES_SELECTED: 'Aucune image s√©lectionn√©e',
            CONFIRM_DELETE_SINGLE: '√ätes-vous s√ªr de vouloir supprimer cette image ?',
            CONFIRM_DELETE_MULTIPLE: '√ätes-vous s√ªr de vouloir supprimer ces {count} images ?',
            DRAG_FILES_HERE: 'Glissez les fichiers ici',
            IMAGE_PREVIEW: 'Aper√ßu de l\'image',
            OFFLINE_MODE: 'üì° Mode hors ligne - Certaines fonctionnalit√©s limit√©es',
            NETWORK_RESTORED: 'Connexion r√©seau restaur√©e',
            NETWORK_DISCONNECTED: 'Connexion r√©seau perdue',
            LAYOUT_UPDATED: 'Mise en page mise √† jour',
            PWA_INSTALL_SUCCESS: 'Installation PWA r√©ussie',
            APP_INSTALL_SUCCESS: 'Application install√©e avec succ√®s ! Vous pouvez maintenant y acc√©der directement depuis l\'√©cran d\'accueil.',
            USER_ACCEPTED_INSTALL: 'L\'utilisateur a accept√© l\'invite d\'installation',
            USER_REJECTED_INSTALL: 'L\'utilisateur a rejet√© l\'invite d\'installation',
            GLOBAL_ERROR: 'Erreur globale',
            APP_ERROR_REFRESH: 'Erreur de l\'application, veuillez actualiser la page et r√©essayer',
            ALL_MANAGERS_INITIALIZED: 'Tous les gestionnaires initialis√©s',
            PAGE_LOAD_PERFORMANCE: 'Donn√©es de performance de chargement de page',
            HIGH_MEMORY_USAGE: 'Utilisation m√©moire √©lev√©e',
            UNSUPPORTED_FILE_FORMAT: 'Format de fichier non pris en charge : {type}. Formats pris en charge : JPG, PNG, GIF, WEBP, BMP',
            FILE_TOO_LARGE: 'Fichier trop volumineux : {size}MB. Maximum pris en charge : {maxSize}MB',
            FILE_PROCESS_ERROR: '√âchec du traitement du fichier {name}',
            SUCCESS_ADD_IMAGES: '{count} images ajout√©es avec succ√®s',
            SUCCESS_DELETE_IMAGES: '{count} images supprim√©es',
            SUCCESS_ROTATE_IMAGES: '{count} images pivot√©es',
            SUCCESS_FLIP_IMAGES: '{count} images retourn√©es',
            SUCCESS_RESET_IMAGES: '{count} images r√©initialis√©es',
            SUCCESS_CONVERT_IMAGES: '{count} images converties au format {format}',
            SUCCESS_ADD_WATERMARK: 'Filigrane ajout√© √† {count} images',
            SUCCESS_DOWNLOAD_IMAGES: '{count} images t√©l√©charg√©es',
            IMAGE_COUNT: '{count} images',
            SELECTED_COUNT: '{selected}/{total} images s√©lectionn√©es',
            PROCESSING: 'Traitement...',
            PROCESSING_GENERIC: 'Traitement...',
            PROGRESS_PERCENT: 'Progression : {percent}%'
        };

        // Mod√®les HTML fran√ßais
        window.HTML_TEMPLATES = {
            MODAL: `
                <div class="modal-content">
                    <div class="modal-header">
                        <h3>{title}</h3>
                        {closeButton}
                    </div>
                    <div class="modal-body">
                        {content}
                    </div>
                </div>
            `,
            MODAL_CLOSE_BUTTON: '<button class="modal-close">&times;</button>',
            IMAGE_GRID_ITEM: `
                <div class="image-header">
                    <input type="checkbox" class="image-checkbox" {checked}>
                    <button class="image-delete" title="{deleteTitle}">√ó</button>
                </div>
                <img class="image-preview" src="{thumbnailUrl}" alt="{name}" loading="lazy">
                <div class="image-info">
                    <h4 title="{name}">{truncatedName}</h4>
                    <p>Taille : {width} √ó {height}</p>
                    <p>Taille du fichier : {size}</p>
                    <p>Format : {format}</p>
                </div>
            `,
            TOOLBAR: `
                <div class="toolbar-left">
                    <button class="btn btn-secondary" id="selectAllBtn">Tout s√©lectionner</button>
                    <button class="btn btn-danger" id="deleteBtn" disabled>Supprimer</button>
                    <span class="separator">|</span>
                    <button class="btn btn-secondary" id="rotateLeftBtn" disabled>‚Ü∂ Rotation gauche</button>
                    <button class="btn btn-secondary" id="rotateRightBtn" disabled>‚Ü∑ Rotation droite</button>
                    <button class="btn btn-secondary" id="flipHBtn" disabled>‚áÑ Retournement horizontal</button>
                    <button class="btn btn-secondary" id="flipVBtn" disabled>‚áÖ Retournement vertical</button>
                    <button class="btn btn-secondary" id="resetBtn" disabled>‚Ü∫ R√©initialiser</button>
                </div>
                <div class="toolbar-right">
                    <button class="btn btn-success" id="downloadBtn" disabled>üì• T√©l√©charger</button>
                </div>
            `,
            PROGRESS_OVERLAY: `
                <div class="progress-modal">
                    <h3>{processingTitle}</h3>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <p id="progressText">{processingText}</p>
                </div>
            `,
            NOTIFICATION_STYLE: `
                position: fixed;
                top: 20px;
                right: 20px;
                background: {backgroundColor};
                color: white;
                padding: 12px 16px;
                border-radius: 4px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.2);
                z-index: 10000;
                font-size: 14px;
                max-width: 300px;
                word-wrap: break-word;
                animation: slideInRight 0.3s ease;
            `
        };

        // Enregistrement du Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/sw.js')
                    .then(registration => {
                        console.log('Enregistrement SW r√©ussi:', registration);
                        registration.addEventListener('updatefound', () => {
                            const newWorker = registration.installing;
                            newWorker.addEventListener('statechange', () => {
                                if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                    showUpdatePrompt();
                                }
                            });
                        });
                    })
                    .catch(error => {
                        console.log('√âchec de l\'enregistrement SW:', error);
                    });
            });
        }

        // Invite d'installation PWA
        let deferredPrompt;
        let installPromptShown = localStorage.getItem('installPromptShown') === 'true';

        window.addEventListener('beforeinstallprompt', (e) => {
            e.preventDefault();
            deferredPrompt = e;

            if (!installPromptShown) {
                setTimeout(() => {
                    showInstallPrompt();
                }, 3000);
            }
        });

        function showInstallPrompt() {
            const installPrompt = document.getElementById('installPrompt');
            if (installPrompt) {
                installPrompt.style.display = 'flex';
            }
        }

        function showUpdatePrompt() {
            const updatePrompt = document.getElementById('updatePrompt');
            if (updatePrompt) {
                updatePrompt.style.display = 'flex';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            const installBtn = document.getElementById('installBtn');
            const dismissBtn = document.getElementById('dismissBtn');
            const installPrompt = document.getElementById('installPrompt');

            if (installBtn) {
                installBtn.addEventListener('click', () => {
                    if (deferredPrompt) {
                        deferredPrompt.prompt();
                        deferredPrompt.userChoice.then((choiceResult) => {
                            if (choiceResult.outcome === 'accepted') {
                                console.log('L\'utilisateur a accept√© l\'installation');
                            }
                            deferredPrompt = null;
                        });
                    }
                    installPrompt.style.display = 'none';
                    localStorage.setItem('installPromptShown', 'true');
                });
            }

            if (dismissBtn) {
                dismissBtn.addEventListener('click', () => {
                    installPrompt.style.display = 'none';
                    localStorage.setItem('installPromptShown', 'true');
                });
            }

            const updateBtn = document.getElementById('updateBtn');
            const laterBtn = document.getElementById('laterBtn');
            const updatePrompt = document.getElementById('updatePrompt');

            if (updateBtn) {
                updateBtn.addEventListener('click', () => {
                    if (navigator.serviceWorker.controller) {
                        navigator.serviceWorker.controller.postMessage({ type: 'SKIP_WAITING' });
                    }
                    window.location.reload();
                });
            }

            if (laterBtn) {
                laterBtn.addEventListener('click', () => {
                    updatePrompt.style.display = 'none';
                });
            }
        });

        window.addEventListener('appinstalled', (evt) => {
            console.log('Installation PWA r√©ussie');
        });
    </script>

    <!-- Charger les scripts du projet -->
    <script src="scripts/image-processor.js"></script>
    <script src="scripts/file-handler.js"></script>
    <script src="scripts/ui-components.js"></script>
    <script src="scripts/main.js"></script>
</body>

</html>